import{r as n,_ as p,R as l,b as m,c as b,P as o}from"./index-CbW3uDu7.js";import{C as ne}from"./CCloseButton-2h1fYz_f.js";import{u as le,T as te,r as I,I as re}from"./DefaultLayout-DXjARQBd.js";var k=n.forwardRef(function(e,i){var t=e.children,s=e.className,a=p(e,["children","className"]);return l.createElement("div",m({className:b("modal-content",s)},a,{ref:i}),t)});k.propTypes={children:o.node,className:o.string};k.displayName="CModalContent";var x=n.forwardRef(function(e,i){var t,s=e.children,a=e.alignment,c=e.className,d=e.fullscreen,f=e.scrollable,v=e.size,C=p(e,["children","alignment","className","fullscreen","scrollable","size"]);return l.createElement("div",m({className:b("modal-dialog",(t={"modal-dialog-centered":a==="center"},t[typeof d=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(d,"-down")]=d,t["modal-dialog-scrollable"]=f,t["modal-".concat(v)]=v,t),c)},C,{ref:i}),s)});x.propTypes={alignment:o.oneOf(["top","center"]),children:o.node,className:o.string,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:o.bool,size:o.oneOf(["sm","lg","xl"])};x.displayName="CModalDialog";var j=n.createContext({}),K=n.forwardRef(function(e,i){var t=e.children,s=e.alignment,a=e.backdrop,c=a===void 0?!0:a,d=e.className,f=e.duration,v=f===void 0?150:f,C=e.focus,J=C===void 0?!0:C,Q=e.fullscreen,w=e.keyboard,U=w===void 0?!0:w,h=e.onClose,R=e.onClosePrevented,W=e.onShow,O=e.portal,T=O===void 0?!0:O,X=e.scrollable,Y=e.size,M=e.transition,N=M===void 0?!0:M,P=e.unmountOnClose,Z=P===void 0?!0:P,g=e.visible,$=p(e,["children","alignment","backdrop","className","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),z=n.useRef(null),y=n.useRef(null),_=n.useRef(null),ee=le(i,y),L=n.useState(g),u=L[0],E=L[1],B=n.useState(!1),S=B[0],V=B[1],oe={visible:u,setVisible:E};n.useEffect(function(){E(g)},[g]),n.useEffect(function(){var r;return u?(z.current=document.activeElement,document.addEventListener("mouseup",F),document.addEventListener("keydown",H)):(r=z.current)===null||r===void 0||r.focus(),function(){document.removeEventListener("mouseup",F),document.removeEventListener("keydown",H)}},[u]);var D=function(){return c==="static"?V(!0):(E(!1),h&&h())};n.useLayoutEffect(function(){R&&R(),setTimeout(function(){return V(!1)},v)},[S]),n.useLayoutEffect(function(){return u?(document.body.classList.add("modal-open"),c&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var r;J&&((r=y.current)===null||r===void 0||r.focus())},N?v:0)):(document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[u]);var F=function(r){y.current&&y.current==r.target&&D()},H=function(r){r.key==="Escape"&&U&&D()};return l.createElement(l.Fragment,null,l.createElement(te,{in:u,mountOnEnter:!0,nodeRef:y,onEnter:W,onExit:h,unmountOnExit:Z,timeout:N?v:0},function(r){return l.createElement(I,{portal:T},l.createElement(j.Provider,{value:oe},l.createElement("div",m({className:b("modal",{"modal-static":S,fade:N,show:r==="entered"},d),tabIndex:-1},u?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:m({},r!=="exited"&&{display:"block"})},$,{ref:ee}),l.createElement(x,{alignment:s,fullscreen:Q,scrollable:X,size:Y},l.createElement(k,{ref:_},t)))))}),c&&l.createElement(I,{portal:T},l.createElement(re,{visible:u})))});K.propTypes={alignment:o.oneOf(["top","center"]),backdrop:o.oneOfType([o.bool,o.oneOf(["static"])]),children:o.node,className:o.string,duration:o.number,focus:o.bool,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:o.bool,onClose:o.func,onClosePrevented:o.func,onShow:o.func,portal:o.bool,scrollable:o.bool,size:o.oneOf(["sm","lg","xl"]),transition:o.bool,unmountOnClose:o.bool,visible:o.bool};K.displayName="CModal";var q=n.forwardRef(function(e,i){var t=e.children,s=e.className,a=p(e,["children","className"]);return l.createElement("div",m({className:b("modal-footer",s)},a,{ref:i}),t)});q.propTypes={children:o.node,className:o.string};q.displayName="CModalFooter";var A=n.forwardRef(function(e,i){var t=e.children,s=e.className,a=e.closeButton,c=a===void 0?!0:a,d=p(e,["children","className","closeButton"]),f=n.useContext(j).setVisible;return l.createElement("div",m({className:b("modal-header",s)},d,{ref:i}),t,c&&l.createElement(ne,{onClick:function(){return f(!1)}}))});A.propTypes={children:o.node,className:o.string,closeButton:o.bool};A.displayName="CModalHeader";var G=n.forwardRef(function(e,i){var t=e.children,s=e.as,a=s===void 0?"h5":s,c=e.className,d=p(e,["children","as","className"]);return l.createElement(a,m({className:b("modal-title",c)},d,{ref:i}),t)});G.propTypes={as:o.elementType,children:o.node,className:o.string};G.displayName="CModalTitle";export{K as C,A as a,G as b,q as c};
