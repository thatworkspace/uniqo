import{j as s,n as N,o as w,m as v,r as c,y as T}from"./index-BR3ARh_4.js";import{c as n,d as u,a as C}from"./index.es-DF-kLOaj.js";import{C as b,a as E}from"./CToastBody-wD1Wrueh.js";import{C as L}from"./CToastClose-BpnmNLAI.js";import{C as m}from"./CRow-CPxyEdjd.js";import{C as k}from"./CCardGroup-Dlpoppk1.js";import{C as I,a as S}from"./CCardBody-CpMRY2MS.js";import{C as _}from"./CForm-DqB087Ca.js";import{C as h}from"./CInputGroup-2I54oOp5.js";import{C as j}from"./CInputGroupText-BLDwn4BP.js";import{c as B,a as D}from"./cil-lock-locked-DUwpndTE.js";import{C as g}from"./CFormInput-Buusm6P0.js";import"./DefaultLayout-DOu8LFMk.js";import"./CCloseButton-DrxYYZX1.js";import"./CFormControlWrapper-B3zh4bo7.js";import"./CFormControlValidation-CsSyuM7P.js";import"./CFormLabel-Bxhgieai.js";function G({text:o,onClose:l=null,color:e="danger",className:t=""}){const i=`w-100 mt-2 text-white align-items-center ${t}`;return s.jsx(b,{autohide:!1,onClose:l,visible:!0,color:e,className:i,children:s.jsxs("div",{className:"d-flex",children:[s.jsx(E,{children:o}),s.jsx(L,{className:"me-2 m-auto"})]})})}const Z=()=>{const o=N(),l=w(),{t:e}=v(),[t,i]=c.useState(""),[d,f]=c.useState(""),[p,x]=c.useState(null),y=async a=>{a.preventDefault();const r=await T(t,d);if(console.log(r),r.result)o({type:"set",user:r.user}),o({type:"set",userData:r.data}),l("/admin");else{if(p!=null)return;x(s.jsx(G,{text:"Wrong username or password, please try again.",onClose:()=>x(null)}))}};return s.jsx(m,{className:"justify-content-center mt-5",children:s.jsx(n,{md:8,lg:5,sm:10,children:s.jsx(k,{children:s.jsx(I,{className:"p-4",children:s.jsx(S,{className:"px-0 px-sm-3 px-md-4",children:s.jsxs(_,{onSubmit:y,children:[s.jsx("h1",{children:e("login.login")}),s.jsx("p",{className:"text-body-secondary",children:e("login.login_sub")}),s.jsxs(h,{className:"mb-3",children:[s.jsx(j,{children:s.jsx(u,{icon:B})}),s.jsx(g,{placeholder:e("login.email"),autoComplete:"email",value:t,onChange:a=>i(a.target.value)})]}),s.jsxs(h,{className:"mb-4",children:[s.jsx(j,{children:s.jsx(u,{icon:D})}),s.jsx(g,{type:"password",placeholder:e("login.password"),autoComplete:"current-password",value:d,onChange:a=>f(a.target.value)})]}),s.jsxs(m,{children:[s.jsx(n,{xs:6,children:s.jsx(C,{type:"submit",color:"primary",className:"px-4",children:e("login.enter")})}),s.jsx(n,{xs:6,className:"text-right d-flex justify-content-end",children:s.jsx(C,{color:"link",className:"px-0",children:e("login.forgot_password")})})]}),s.jsx(m,{children:s.jsx(n,{children:p})})]})})})})})})};export{Z as default};
