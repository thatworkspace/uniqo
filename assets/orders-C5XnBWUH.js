import{m as w,r,K as M,j as s,M as O}from"./index-CbW3uDu7.js";import{a as l,d as _,c as k}from"./index.es-ZDrKJJQr.js";import{C as S,a as V}from"./CCardBody-DKzw9EqD.js";import{C as v}from"./CCardHeader-CuEGQPZI.js";import{C as T,d as E,b as R,e as d}from"./CTable-WeU5-nUk.js";import{A}from"./DefaultLayout-DXjARQBd.js";import{C as F}from"./CRow-BA3Bm6Ip.js";import{C as z,a as B,b as I,c as L}from"./CModalTitle-DxbsmzS1.js";import"./CCloseButton-2h1fYz_f.js";const U=()=>{const{t:a,i18n:t}=w(),[n,j]=r.useState([]),[o,u]=r.useState(0),c=r.useRef(null),[f,i]=r.useState(!1),[m,C]=r.useState(!1);r.useEffect(()=>{x()},[]),r.useEffect(()=>{x()},[o]);const x=async()=>{const e=await M(o,20);console.log(e),j(e)},b=e=>{c.current.setAttribute("id",e),i(!0)},h=async e=>{const p=c.current.getAttribute("id");C(!0),await O(p,e),C(!1),i(!1),x()},y=()=>{u(o+20)},g=()=>{u(o-20)},N=s.jsx(s.Fragment,{children:s.jsxs(S,{className:"mb-4",children:[s.jsx(v,{children:a("admin_dashboard.orders.title")}),s.jsx(V,{className:"px-1 px-sm-2",children:s.jsx(T,{className:"list-group-flush",children:s.jsx(E,{children:n.orders&&n.orders.length>0&&n.orders.map((e,p)=>s.jsxs(R,{className:e.status?e.status:"",children:[s.jsxs(d,{scope:"row",children:[s.jsx("p",{className:"py-0 my-0 fs-5",children:e.name}),s.jsx("p",{className:"py-0 my-0 fs-6",children:e.phone})]}),s.jsxs(d,{scope:"row",children:[s.jsxs("p",{className:"py-0 my-0 fs-6",children:[e.product[`${t.language}`]," Ã— ",e.quantity," "]}),s.jsxs("p",{className:"py-0 my-0 fs-6",children:[e.province," - ",e.address]})]}),s.jsxs(d,{scope:"row",children:[s.jsxs("p",{className:"py-0 my-0 fs-6",children:[e.total-e.shipping,a(`common.${t.language}Currency`)]}),s.jsxs("p",{className:"py-0 my-0 fs-6",children:[e.shipping,a(`common.${t.language}Currency`)]})]}),s.jsx(d,{scope:"row",children:s.jsx(l,{color:" me-2",className:"float-end",size:"sm",onClick:()=>b(e.id),children:s.jsx(_,{icon:A,color:"black",style:{width:"15px"},customClassName:"nav-icon"})})})]},p))})})})]})});return s.jsxs(s.Fragment,{children:[s.jsx(F,{children:s.jsxs(k,{xs:12,className:"px-0 px-sm-2",children:[N,s.jsxs("div",{className:"text-center",children:[s.jsx(l,{disabled:o==0,color:"me-2 mx-1",onClick:()=>g(),className:"btn-primary text-white",size:"sm",children:a("admin_dashboard.orders.previous")}),s.jsx(l,{color:"me-2 mx-1",onClick:()=>y(),className:"btn-primary text-white",size:"sm",children:a("admin_dashboard.orders.next")})]})]})}),s.jsxs(s.Fragment,{children:[s.jsx("span",{ref:c}),s.jsxs(z,{alignment:"center",backdrop:"static",visible:f,onClose:()=>i(!1),unmountOnClose:!0,children:[s.jsx(B,{children:s.jsx(I,{id:"VerticallyCenteredExample",children:a("admin_dashboard.orders.status_change_desc")})}),s.jsxs(L,{className:"text-center",children:[s.jsx(l,{color:"danger",className:"text-white",disabled:m,onClick:()=>h("refuse"),children:a("admin_dashboard.orders.refuse")}),s.jsx(l,{color:"warning",className:"text-white",disabled:m,onClick:()=>h("sent"),children:a("admin_dashboard.orders.sent")}),s.jsx(l,{color:"success",className:"text-white",disabled:m,onClick:()=>h("done"),children:a("admin_dashboard.orders.done")})]})]})]})]})};export{U as default};
